---
import Layout from '../../layouts/Layout.astro';
import { data, getSemanticById } from '../../lib/data';
import { url } from '../../lib/url';

export async function getStaticPaths() {
  return data.semantics.map((semantic) => ({
    params: { id: semantic.id },
  }));
}

const { id } = Astro.params;
const semantic = getSemanticById(id!);

if (!semantic) {
  return Astro.redirect(url('/404'));
}
---

<Layout title={semantic.name}>
  <div>
    <a href={url('/semantics')} class="text-primary hover:text-primary/80">← Back to Semantics</a>
    
    <h1 class="mt-4 text-3xl font-bold text-gray-900">{semantic.name}</h1>
    
    <div class="mt-6 bg-white shadow rounded-lg p-6">
      <h2 class="text-lg font-semibold text-gray-900">Description</h2>
      <p class="mt-2 text-gray-600">{semantic.description}</p>
      
      {semantic.tags.length > 0 && (
        <div class="mt-4">
          <h3 class="text-sm font-medium text-gray-700">Tags</h3>
          <div class="mt-2 flex gap-2">
            {semantic.tags.map((tag: string) => (
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800">
                {tag}
              </span>
            ))}
          </div>
        </div>
      )}
      
      {semantic.aliases.length > 0 && (
        <div class="mt-4">
          <h3 class="text-sm font-medium text-gray-700">Also known as</h3>
          <ul class="mt-2 text-gray-600">
            {semantic.aliases.map((alias: string) => (
              <li>• {alias}</li>
            ))}
          </ul>
        </div>
      )}
    </div>
  </div>
</Layout>